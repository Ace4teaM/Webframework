<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" > 
  <head>
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /> 
    <title>Formulaire</title>
    <!-- Includes -->
    <script type="text/javascript" language="javascript" src="../javascript/base.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/dom.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/dom-func-compatible.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/wfw.js"></script>
    <script type="text/javascript" language="javascript" src="../yui/yui/yui-min.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-base.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-event.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-uri.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-request.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-math.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-http.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-form.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-style.js"></script>
    <script type="text/javascript" language="javascript" src="../javascript/yui/wfw-xarg.js"></script>
    <script type="text/javascript" language="javascript">
        // <![CDATA[
        function onLoad(){
		//initialise le contenu
		YUI().use('node', 'event', 'dom', 'form', function (Y)
		{
                    // Liste les éléments du formulaire
                    Y.Node.one("#show_elements").on("click",function(e){
                        var infos = Y.Node.one("#infos");
                        infos.all("*").remove();
                        var elements = Y.Form.get_elements("form", {getStaticNode: (Y.Node.one("#all").get("checked"))});
                        for(var i in elements){
                            var e = elements[i];
                            infos.append("<p>"+i+" = \""+e.get("tagName")+"\"</p>");
                        }
                    });
                    
                    // Liste les champs du formulaire
                    Y.Node.one("#show_fields").on("click",function(e){
                        var infos = Y.Node.one("#infos");
                        infos.all("*").remove();
                        var elements = Y.Form.get_fields("form", {getStaticNode: (Y.Node.one("#all").get("checked"))});
                        for(var name in elements){
                            var value = elements[name];
                            infos.append("<p>"+name+" = \""+value+"\"</p>");
                        }
                    });
                    
                    // Envoie du formulaire par le biais d'une frame
                    Y.Node.one("#send_frame").on("click",function(e){
                        Y.Form.sendFrame(
                            "form",
                            null,
                            function(responseText,param,args){ alert(responseText); },
                            { foo:"bar" },
                            {
                                hiddenFrame: (Y.Node.one("#hide_frame").get("checked")),
                                getStaticNode: (Y.Node.one("#all").get("checked"))
                            }
                        );
                    });
                    
                    // Envoie du formulaire
                    Y.Node.one("#send_form").on("click",function(e){
                        Y.Form.send( "form", null, null, null );
                    });
                    
                    // Envoie du formulaire par le biais d'une requete
                    Y.Node.one("#send_req").on("click",function(e){
                        Y.Form.sendReq(
                            "form",
                            null,
                            true,
                            function(obj){
                                if (!Y.Request.onCheckRequestStatus(obj))
                                    return;

                                alert(obj.response);
                            },
                            { foo:"bar" }
                        );
                    });
                    
		});
        }
        // ]]>
    </script>
    <!-- styles -->
    <style type="text/css">
        #button_list input[type="button"]{
            width: 150px;
        }
    </style>
    <link href="../css/wfw-extends.css" lang="text/css" />
  </head>
  <body onload="onLoad();">
        <h1>Identification</h1>
        <form id="form" action="form-req.html" method="get">
            <fieldset>
                <legend>Entrez vos informations d'identification</legend>
                <div><span>Identifiant</span><input type="text" name="uid" value="User Id" /></div>
                <div><span>Mot-de-Passe</span><input type="password" name="pwd" value="Password" /></div>
                <div>
                    <span>Choix A</span><input type="radio" name="choose" value="A" />
                    <span>Choix B</span><input type="radio" name="choose" value="B" />
                    <span>Choix C</span><input type="radio" name="choose" value="C" />
                    <span>Choix D</span><input type="radio" name="choose" value="D" />
                </div>
                <div name="comment">Champ statique</div>
            </fieldset>
        </form>
        <h2>Actions</h2>
        <div>
            <div style="width:150px; display:inline-block;">
                <p><input type="checkbox" id="all" />getStaticNode</p>
                <p><input type="checkbox" id="hide_frame" checked="checked" />showContent</p>
            </div>
            <div id="button_list" style="display:inline-block;">
                <input id="show_elements" type="button" value="Lister les éléments" />
                <input id="show_fields" type="button" value="Lister les champs" />
                <input id="send_frame" type="button" value="Send as frame..." />
                <input id="send_req" type="button" value="Send as request..." />
                <input id="send_form" type="button" value="Send form..." />
            </div>
        </div>
        <fieldset id="infos"><p>...</p></fieldset>
  </body>
</html>